<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8"/>

<title>オブジェクト配列 Bパターン</title>
<link rel="stylesheet" type="text/css" id="applicationStylesheet" href="aaa.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h1>11章 オブジェクト配列</h1>
<h2>オブジェクト配列 Bパターン</h2>
<sub_title>多数のオブジェクトを管理</sub_title><br>
<p align="left">オブジェクト配列がこれまでの配列と違うのは、配列の要素として割り当てる前に<font color="red">new</font>を実行する必要があるところがポイントです。</p>

<div align="center">
  <table border="1" style="border-collapse: collapse" width="100%">
    <tbody>
      <tr>
        <td width="auto" height="auto">
	1<br>
        2<br>
        3<br>
	4<br>
	5<br>
	6<br>
        7<br>
        8<br>
	9<br>
	10<br>
	11<br>
        12<br>
        13<br>
	14<br>
	15<br>
	16<br>
        17<br>
        18<br>
	19<br>
	20<br>
        21<br>
        22<br>
	23<br>
	24<br>
	25<br>
        26<br>
        27<br>
	28<br>
	29<br>
	30<br>
        31<br>
        32<br>
	33<br>
	34<br>
	35<br>
        36<br>
        37<br>
	38<br>
        <td width="97%" height="auto">
		<font color="red">JitterBug[] bugs = new JitterBug[40];</font>//表示するJitterBugの数
		<br>
		void setup(){<br>
		<span>size(240,120); //ウインドウを描く<br>
		<span>for(int i = 0;i < bugs.length; i++){<br>
		<span><span>float x = random(width);//動きをランダムに<br>
		<span><span>float y = random(height);//動きをランダムに<br>
		<span><span>int r = i + 20;<br>
		<span><span>bugs[i] = new JitterBug(x, y, r);//JitterBugを表示する座標<br>
		<span>}<br>
		}<br>
		<br>
		void draw(){<br>
		<span>for(int i = 0;i < bugs.length; i++){<br>
		<span><span>bugs[i].move();<br>
		<span><span>bugs[i].display();<br>
		<span>}<br>
		}<br>
		<br>
		class JitterBug{//JitterBugを表示するのでJitterBugのオブジェクトを生成する↓<br>
		<span>float x;<br>
		<span>float y;<br>
		<span>int diameter;<br>
		<span>float speed = 2.5;<br>
		<span>JitterBug(float tempX, float tempY, int tempDiameter){<br>
		<span><span>x = tempX;<br>
		<span><span>y = tempY;<br>
		<span><span>diameter = tempDiameter;<br>
		<span>}<br>
		<br>
		<span>void move(){<br>
		<span><span>x += random(-speed, speed);<br>
		<span><span>y += random(-speed, speed);<br>
		<span>}<br>
		<br>
		<span>void display(){<br>
		<span><span>ellipse(x, y, diameter, diameter);<br>
		<span>}<br>
		}
		</td>
      </tr>
    </tbody>
  </table>
</div>
<br>
実行結果<br>
<img src="Jitter40.png" alt="40" width=400 height=200 align="left">
<br>
<br>
<br>
<br>
<br>
<br>
JitterBug[] bugs = new JitterBug[<font color="red">20</font>];と40から20に変更すると<br>
<img src="Jitter20.png" alt="20" width=400 height=200 align="left">
<br>
int r = i + 20;のコードについて、i=1~20までの数を代入していくので、<font color="red">JitterBug[40]</font>のコードに比べて小さい。<br>
</body>
</html>